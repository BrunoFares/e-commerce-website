import{$ as _,Aa as S,Ba as w,Fa as q,Ga as D,Ha as E,Ia as T,L as p,N as P,Oa as A,Qa as F,Ra as j,Sa as B,Ta as N,Va as z,_a as L,aa as n,ab as U,fa as g,ga as c,gb as R,ib as V,la as e,lb as W,ma as i,mb as M,na as l,nb as y,pa as v,ra as C,sa as s,ta as u,ua as f,va as O,wa as x,xa as I,za as k}from"./chunk-Z7GPX37H.js";function Q(o,r){o&1&&l(0,"img",16)}function Y(o,r){o&1&&l(0,"img",17)}function $(o,r){o&1&&l(0,"img",18)}function G(o,r){o&1&&l(0,"img",19)}function H(o,r){if(o&1&&(e(0,"div",20),l(1,"img",21),e(2,"p"),s(3),i(),e(4,"p"),s(5),i()()),o&2){let m=r.$implicit;C("routerLink","../../item/:",m.id,""),n(),C("alt","Image of ",m.title,""),c("src",m.image,_),n(2),u(m.title),n(2),f("$ ",m.price,"")}}var st=(()=>{let r=class r{constructor(){this.itemId="",this.otherItems=[],this.quantity=1,this.favClicked=!1,this.cartClicked=!1,this.displayItem=p(W),this.route=p(A),this.router=p(F)}addToShoppingCart(){if(this.quantity<1){alert("Can't place an item with a quantity less than 1.");return}if(!localStorage.getItem("user")){this.router.navigateByUrl("login");return}let d=M("ShoppingCartDB","ShoppingCartStore"),a={id:this.item.id,title:this.item.title,category:this.item.category,price:this.item.price,quantity:this.quantity};y(this.item.id,a,d),this.cartClicked=!0,setInterval(()=>this.cartClicked=!1,3e3)}addToFavourites(){if(this.quantity<1){alert("Can't place an item with a quantity less than 1.");return}localStorage.getItem("user")||this.router.navigateByUrl("login");let d=M("FavouritesDB","FavouritesStore");y(this.item.id,this.item,d),this.favClicked=!0,setInterval(()=>this.favClicked=!1,3e3)}ngOnInit(){this.route.paramMap.subscribe(a=>{this.itemId=a.get("id")||"",this.displayItem.getProduct(+this.itemId.substring(1)).subscribe(t=>{this.item=t})});let d=[];for(let a=0;a<8;a++){let t=1+Math.round(Math.random()*1e5)%20;if(d.includes(t)){a--;continue}d.push(t)}d.map(a=>{this.displayItem.getProduct(a).subscribe(t=>{this.otherItems.push(t)})}),console.log(this.otherItems)}};r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=P({type:r,selectors:[["app-display-item"]],standalone:!0,features:[k],decls:34,vars:14,consts:[[1,"item-page"],["alt","Item image",3,"src"],[1,"item-info"],[1,"bolds"],[1,"quantity"],["min","1","type","number","value","1","step","1",3,"ngModelChange","ngModel"],[1,"options"],[1,"buttons"],[3,"click"],["src","heart-grey-dark.png","alt","Add to favourites button",4,"ngIf"],["src","check-white.png","alt","Add to favourites button",4,"ngIf"],["src","shopping-cart-grey.png","alt","Add to shopping cart button",4,"ngIf"],["src","check-black.png","alt","Add to shopping cart button",4,"ngIf"],[1,"others-section"],[1,"other-items"],["class","item",3,"routerLink",4,"ngFor","ngForOf"],["src","heart-grey-dark.png","alt","Add to favourites button"],["src","check-white.png","alt","Add to favourites button"],["src","shopping-cart-grey.png","alt","Add to shopping cart button"],["src","check-black.png","alt","Add to shopping cart button"],[1,"item",3,"routerLink"],[3,"src","alt"]],template:function(a,t){a&1&&(e(0,"h2"),s(1),i(),e(2,"div",0),l(3,"img",1),e(4,"div",2)(5,"p"),s(6),i(),e(7,"div",3)(8,"p")(9,"span"),s(10,"Category:"),i(),s(11),i(),e(12,"div",4)(13,"span"),s(14,"Quantity:"),i(),e(15,"input",5),I("ngModelChange",function(h){return x(t.quantity,h)||(t.quantity=h),h}),i(),e(16,"p"),s(17),S(18,"number"),i()()(),e(19,"div",6)(20,"div",7)(21,"button",8),v("click",function(){return t.addToFavourites()}),g(22,Q,1,0,"img",9)(23,Y,1,0,"img",10),i(),e(24,"button",8),v("click",function(){return t.addToShoppingCart()}),g(25,$,1,0,"img",11)(26,G,1,0,"img",12),i()(),e(27,"button"),s(28,"Proceed to Checkout"),i()()()(),e(29,"div",13)(30,"h2"),s(31,"You might also like..."),i(),e(32,"div",14),g(33,H,6,7,"div",15),i()()),a&2&&(n(),u(t.item.title),n(2),c("src",t.item.image,_),n(3),u(t.item.description),n(5),f(" ",t.item.category,""),n(4),O("ngModel",t.quantity),n(2),f("$",w(18,11,t.quantity*t.item.price,"1.1-2")," USD"),n(5),c("ngIf",!t.favClicked),n(),c("ngIf",t.favClicked),n(2),c("ngIf",!t.cartClicked),n(),c("ngIf",t.cartClicked),n(7),c("ngForOf",t.otherItems))},dependencies:[T,q,D,E,V,N,U,z,R,L,B,j],styles:["h2[_ngcontent-%COMP%]{text-align:start;font-size:1.8em}div.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}div.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.5em;border:0;border-radius:.5em;cursor:pointer;animation-name:_ngcontent-%COMP%_slideout;animation-duration:.2s;animation-fill-mode:forwards}div.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_slidein;animation-duration:.2s;animation-fill-mode:forwards}div.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:active{box-shadow:none;animation-name:_ngcontent-%COMP%_slideout;animation-duration:.2s;animation-fill-mode:forwards}div.options[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:#b40000;padding:.9em;color:#fff}div.options[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{box-shadow:3px 3px #640000}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]{display:flex;gap:.5em}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{background-color:#c8c8c8}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover{box-shadow:3px 3px #a0a0a0}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover:active{box-shadow:none}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#434343}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2n):hover{box-shadow:3px 3px #323232}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2n):hover:active{box-shadow:none}div.options[_ngcontent-%COMP%]   div.buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.6em;width:auto}div.quantity[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;display:flex}div.quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:10%;background-color:#79797980;border-radius:1em;border:0;padding:.5em;font-size:1em}div.quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:0 1 200px;text-align:end}span[_ngcontent-%COMP%], div.quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}div.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3em}div.item-info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-of-type{font-style:italic}div.item-info[_ngcontent-%COMP%]   div.bolds[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}div.item-page[_ngcontent-%COMP%]{display:flex;gap:1em;font-size:1em}div.item-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%;height:60vh;object-fit:cover;border-radius:1em}div.other-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:1em 0;justify-content:space-between}div.other-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-basis:18%;display:flex;flex-direction:column;margin-bottom:3%;padding:1em;justify-content:space-between;animation-name:_ngcontent-%COMP%_slideout;animation-duration:.2s;animation-fill-mode:forwards;cursor:pointer}div.other-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2n){text-align:end;font-weight:700}div.other-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_slidein;animation-duration:.2s;animation-fill-mode:forwards;box-shadow:3px 3px #a9a9a9}div.other-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:10px;object-fit:cover}div.item[_ngcontent-%COMP%]{border-radius:10px;border:3px solid rgb(131,131,131)}@keyframes _ngcontent-%COMP%_slideout{0%{translate:-3px -3px;scale:100% 1}to{translate:0 0}}@keyframes _ngcontent-%COMP%_slidein{0%{translate:0 0}to{translate:-3px -3px;scale:100% 1}}"]});let o=r;return o})();export{st as DisplayItemComponent};
